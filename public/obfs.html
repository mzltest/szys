<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Hello, world!</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="" />
  <link rel="icon" href="favicon.png">
</head>
<body>
  <h1>simple rlo trick</h1>
 
    <label for="message" id="len">Message:</label><br>
    <input name="message" id="msg"><br>
    <input type="submit" value="Submit" onclick="obfs(document.getElementById('msg').value)">
  <input type="submit" value="retry" onclick="obfs(text)">
  
<script>
text=''
function obfs(part){
text=part
result=''
line=[]

subl=[]
while(line.length>=1)
{
subl.push(line.splice(0,Math.round(Math.random()*(line.length-1)/5)+2))
//console.log(subl)
}
//subl=subl.reverse()
for (a of subl){
if(Math.random()<0.5){
result+=a.join('')
}else{
   result+='\u202E'+a.reverse().join('')+'\u202C'
}
}


document.getElementById('msg').value=result
document.getElementById('len').innerText=result.length
console.log(result.split(''))

}
</script>
</body>
</html>
